{% extends 'base.html' %}
{% load static %}

{% block tittle %}Car List{% endblock %} {# Added title block #}

{% block extra_styles %}
    {# Add any car_list-specific styles here if needed, but aim to put most in style.css #}
{% endblock %}

{% block content %}
    {# The outer banner_bg_main div contains content that is in base.html, remove it here #}
    {# The inner banner_bg_main div had inline styles, use a class instead #}
    <div class="banner_bg_main car-list-banner-background">

    {# The header, logo, header section are in base.html, remove them here #}

    {# The banner section had inline styles and comments, use a class and keep only relevant content #}
         <div class="banner_section layout_padding">
             <div class="container">
                <div id="my_slider" class="carousel slide" data-ride="carousel">
                   <div class="carousel-inner">
                      <div class="carousel-item active">
                         <div class="row">
                            {# The content div had inline style, use a class instead #}
                            <div class="col-sm-12 d-flex flex-column align-items-center justify-content-center banner-carousel-content">
                               <div class="buynow_bt"><a href="">Pre Book</a></div>
                            </div>
                         </div>
                      </div>
                      {# Removed commented out carousel item #}
                      <div class="carousel-item">
                         <div class="row">
                            {# The content div had inline style, use a class instead #}
                            <div class="col-sm-12 d-flex flex-column align-items-center justify-content-center banner-carousel-content">
                               <div class="buynow_bt"><a href="">Buy Now</a></div>
                            </div>
                         </div>
                      </div>
                   </div>
                   <a class="carousel-control-prev" href="#my_slider" role="button" data-slide="prev">
                      <i class="fa fa-angle-left"></i>
                   </a>
                   <a class="carousel-control-next" href="#my_slider" role="button" data-slide="next">
                      <i class="fa fa-angle-right"></i>
                   </a>
                </div>
             </div>
          </div>

    </div> {# Close the car-list-banner-background div #}
      <!-- banner bg main end - This div is part of the banner_bg_main class we are refactoring -->

      <!-- fashion section start -->
      {# The fashion section has a py-5 class which is fine, keep it #}
      <div class="fashion_section bg-dark py-5">
         <div class="container">
            {# The h2 has Bootstrap classes, which is fine #}
            <h2 class="text-center mb-5 text-white fw-bold">Collection</h2>
            <div class="row">
                 {% if cars %}
                 {% for car in cars %}
                 <div class="col-lg-4 col-md-6 mb-4">
                     {# The card has Bootstrap classes, which is fine #}
                     <div class="card shadow-sm h-100">
                         {# The img had inline styles, use a class instead #}
                         <img src="{{ car.image.url }}" class="card-img-top car-image-style" alt="{{ car.brand }} {{ car.model }}">
                         {# The card-body has Bootstrap classes, which is fine #}
                         <div class="card-body d-flex flex-column">
                             {# The h5 and p have Bootstrap classes, which is fine #}
                             <h5 class="card-title">{{ car.brand }} {{ car.model }}</h5>
                             <p class="card-text mb-2">Price: â‚¹{{ car.price }}</p>

                             {# The action buttons are fine as is #}
                             <div class="mt-auto">
                                 <div class="d-flex justify-content-between">
                                    <div class="text-center mt-3">
                                       <a href="{% url 'car_detail' car.id %}" class="btn btn-outline-primary btn-sm">See More</a>
                                   </div>

                                    <form method="post" action="{% url 'buy_now' car.id %}">
                                         {% csrf_token %}
                                         <button type="submit" class="btn btn-success btn-sm">Buy Now</button>
                                     </form>
                                 </div>
                                 <form method="post" action="{% url 'add_to_cart' car.id %}" class="mt-2">
                                     {% csrf_token %}
                                     <button type="submit" class="btn btn-primary btn-sm w-100">Add to Cart</button>
                                 </form>
                             </div>
                         </div>
                     </div>
                 </div>
                 {% endfor %}
                 {% else %}
                 <div class="col-12 m-auto d-flex justify-content-center align-items-center ">
                     <div class="alert alert-light text-center mt-4" role="alert">
                         No cars available at the moment.
                     </div>  
                  </div>
                  {% endif %}
         </div>
     </div>
   </div>
      <!-- fashion section end -->

      {# The footer and copyright sections are in base.html, remove them here #}

{% endblock %}

{% block extra_scripts %}
{% comment %} Add any specific scripts for car_list.html here if needed, otherwise leave empty {% endcomment %}
{% endblock %}
