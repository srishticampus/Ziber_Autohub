{% extends 'base.html' %}
{% load static %}

{% block title %}Home{% endblock %}

{% block extra_styles %}
    {# Link to your new demo-specific stylesheet #}
    <link rel="stylesheet" href="{% static 'css/demo_styles.css' %}">
    {# Include styles from news_detail.html for the integrated news section #}
    <style>
        /* General section styling */
        .news_detail_section {
            background-color: #f5f5f5;
            padding-top: 5rem; /* Adjusted padding from header */
            padding-bottom: 4rem; /* Padding before footer */
        }

        /* Styling for each individual news item card */
        .news_item {
            background-color: #fff;
            border-radius: 12px; /* Soft rounded corners */
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08); /* Subtle shadow */
            padding: 1.5rem;
            transition: transform 0.3s ease, box-shadow 0.3s ease; /* Smooth hover effect */
            height: 100%; /* Ensure all cards have same height */
            display: flex;
            flex-direction: column;
            /* cursor: pointer; */ /* No longer needs specific pointer as it's a link now */
        }

        .news_item:hover {
            transform: translateY(-5px); /* Lift effect on hover */
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15); /* Enhanced shadow on hover */
        }

        .news_image img {
            border-radius: 8px; /* Rounded corners for images */
            object-fit: cover; /* Ensures images cover their area well */
            max-height: 200px; /* Limit image height to keep cards consistent */
            width: 100%; /* Ensure image fills its container */
        }

        .news_title {
            font-size: 1.5rem; /* Larger title font */
            font-weight: bold;
            color: #333;
            margin-top: 1rem;
            margin-bottom: 0.75rem;
            text-align: center;
        }

        .news_content {
            font-size: 1rem; /* Standard paragraph font size */
            color: #555;
            line-height: 1.6; /* Improved line spacing */
            text-align: justify;
            flex-grow: 1; /* Allows content to push footer to bottom if content varies */
        }

        /* Removed modal specific styling as the modal is no longer used for news items */
    </style>
{% endblock %}

{% block content %}
    <div class="banner_section_demo layout_padding">
        <div class="container h-100 d-flex align-items-center justify-content-center">
            <div id="my_slider" class="carousel slide w-100" data-bs-ride="carousel" data-bs-interval="5000"> 
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <div class="row justify-content-center">
                            <div class="col-sm-12 text-center">
                                <div class="buynow_bt"><a href="{% url 'hub:car_list' %}">Buy Now</a></div>
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <div class="row justify-content-center">
                            <div class="col-sm-12 text-center">
                                <div class="buynow_bt"><a href="{% url 'hub:used_car_list' %}">Used Cars</a></div>
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <div class="row justify-content-center">
                            <div class="col-sm-12 text-center">
                                <div class="buynow_bt"><a href="{% url 'hub:job_list' %}">Jobs</a></div>
                            </div>
                        </div>
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#my_slider" data-bs-slide="prev">
                    <i class="fa fa-angle-left"></i>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#my_slider" data-bs-slide="next">
                    <i class="fa fa-angle-right"></i>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        </div>
    </div>

    {# START: Integrated news_detail.html content #}
    <div class="news_detail_section">
        <div class="container">
            <h2 class="text-center mb-5" style="font-size: 2.5rem; font-weight: bold; color: #333;">Latest News from Ziber Autohub</h2>
            <div class="row">
                <!-- First News Item -->
                <div class="col-lg-4 col-md-6 mb-4">
                    <a href="{% url 'hub:news' %}" class="text-decoration-none text-dark"> {# Added <a> tag here #}
                        <div class="news_item">
                            <div class="news_image text-center mb-3">
                                <img src="{% static 'images/news1.jpg' %}" alt="News 1" class="img-fluid">
                            </div>
                            <h3 class="news_title">The Future of Electric Vehicles</h3>
                            <p class="news_content">
                                Ziber Autohub is proud to announce its groundbreaking new line of electric vehicles, setting new standards for sustainability and performance...
                            </p>
                        </div>
                    </a>
                </div>

                <!-- Second News Item -->
                <div class="col-lg-4 col-md-6 mb-4">
                    <a href="{% url 'hub:news' %}" class="text-decoration-none text-dark"> {# Added <a> tag here #}
                        <div class="news_item">
                            <div class="news_image text-center mb-3">
                                <img src="{% static 'images/news2.jpg' %}" alt="News 2" class="img-fluid">
                            </div>
                            <h3 class="news_title">Exclusive Used Car Offers</h3>
                            <p class="news_content">
                                Take advantage of our exclusive offers on used cars. Get amazing discounts and flexible financing options...
                            </p>
                        </div>
                    </a>
                </div>

                <!-- Third News Item -->
                <div class="col-lg-4 col-md-6 mb-4">
                    <a href="{% url 'hub:news' %}" class="text-decoration-none text-dark"> {# Added <a> tag here #}
                        <div class="news_item">
                            <div class="news_image text-center mb-3">
                                <img src="{% static 'images/news3.jpg' %}" alt="News 3" class="img-fluid">
                            </div>
                            <h3 class="news_title">New Car Accessories Now Available</h3>
                            <p class="news_content">
                                Discover the latest car accessories that will enhance your driving experience. From floor mats to advanced GPS systems...
                            </p>
                        </div>
                    </a>
                </div>

                <!-- Fourth News Item (New) -->
                <div class="col-lg-4 col-md-6 mb-4">
                    <a href="{% url 'hub:news' %}" class="text-decoration-none text-dark"> {# Added <a> tag here #}
                        <div class="news_item">
                            <div class="news_image text-center mb-3">
                                <img src="{% static 'images/news4.jpg' %}" alt="News 4" class="img-fluid">
                            </div>
                            <h3 class="news_title">Ziber Expands Service Network</h3>
                            <p class="news_content">
                                Ziber Autohub has significantly expanded its service network, opening five new state-of-the-art service centers...
                            </p>
                        </div>
                    </a>
                </div>

                <!-- Fifth News Item (New) -->
                <div class="col-lg-4 col-md-6 mb-4">
                    <a href="{% url 'hub:news' %}" class="text-decoration-none text-dark"> {# Added <a> tag here #}
                        <div class="news_item">
                            <div class="news_image text-center mb-3">
                                <img src="{% static 'images/news5.webp' %}" alt="News 5" class="img-fluid">
                            </div>
                            <h3 class="news_title">Innovations in Autonomous Driving</h3>
                            <p class="news_content">
                                Ziber Autohub is at the forefront of autonomous driving technology, continuously pushing the boundaries...
                            </p>
                        </div>
                    </a>
                </div>

                <!-- Sixth News Item (New) -->
                <div class="col-lg-4 col-md-6 mb-4">
                    <a href="{% url 'hub:news' %}" class="text-decoration-none text-dark"> {# Added <a> tag here #}
                        <div class="news_item">
                            <div class="news_image text-center mb-3">
                                <img src="{% static 'images/news6.webp' %}" alt="News 6" class="img-fluid">
                            </div>
                            <h3 class="news_title">Community Drive: Road Safety</h3>
                            <p class="news_content">
                                Ziber Autohub has launched a comprehensive 'Community Drive' initiative focused on promoting road safety...
                            </p>
                        </div>
                    </a>
                </div>
            </div>
        </div>
    </div>

    {# Removed the News Detail Modal as it is no longer needed #}
    {# Removed the JavaScript for the modal as it is no longer needed #}

    <div class="new_launch_section_demo layout_padding">
        <div class="container">
            <div class="text-center mb-4">
                <h2 class="text-uppercase new-launch-heading">New Launch Products</h2>
            </div>

            <div id="new_launch_slider" class="carousel slide" data-bs-ride="carousel" data-bs-interval="5000"> 
                <div class="carousel-inner">
                    {% for car in featured_new_cars %} 
                    <div class="carousel-item {% if forloop.first %}active{% endif %}">
                        <div class="row justify-content-center">
                            <div class="col-sm-4 text-center">
                                <div class="product_item">
                                    {% if car.image %}
                                        <img src="{{ car.image.url }}" alt="{{ car.name }} image" class="img-fluid product-img">
                                    {% else %}
                                        <img src="https://placehold.co/400x200/EFEFEF/AAAAAA?text=No+Image" alt="No Image Available" class="img-fluid product-img">
                                    {% endif %}
                                    <h4 class="product_title product-title-style">{{ car.name }} {{ car.model }}</h4>
                                    <p class="product_description product-description-style">
                                        {{ car.description|truncatechars:150 }}
                                    </p>
                                    <div class="mt-3">
                                        <a href="{% url 'hub:car_detail' pk=car.pk %}" class="btn buynow_bt btn-sm">View Details</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% empty %}
                     <div class="carousel-item active">
                        <div class="row justify-content-center">
                            <div class="col-sm-4 text-center">
                                <div class="product_item">
                                    <img src="https://placehold.co/400x200/EFEFEF/AAAAAA?text=No+Products" alt="No Products" class="img-fluid product-img">
                                    <h4 class="product_title product-title-style">No New Products Yet!</h4>
                                    <p class="product_description product-description-style">
                                        Stay tuned for our exciting new releases.
                                    </p>
                                    <div class="mt-3">
                                        <a href="{% url 'hub:new_car_list' %}" class="btn btn-primary btn-sm">Browse Cars</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>

                {% if featured_new_cars|length > 1 %}
                <button class="carousel-control-prev product-carousel-control" type="button" data-bs-target="#new_launch_slider" data-bs-slide="prev"> 
                    <i class="fa fa-angle-left"></i>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next product-carousel-control" type="button" data-bs-target="#new_launch_slider" data-bs-slide="next"> 
                    <i class="fa fa-angle-right"></i>
                    <span class="visually-hidden">Next</span>
                </button>
                {% endif %}
            </div>
        </div>
    </div>
{% endblock %}

{% block extra_scripts %}
    {{ block.super }} 
    {# Removed the JavaScript for the news detail modal as it is no longer needed #}
{% endblock %}
