{% extends 'base.html' %}
{% load static %}

{% block title %}Landing Page{% endblock %}

{% block extra_styles %}
<style>
    /* Additional styles if needed */
    .box_main {
        transition: transform 0.3s ease;
    }
    .box_main:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0,0,0,0.1);
    }
    .buy_bt a, .seemore_bt a {
        transition: all 0.3s ease;
    }
    .buy_bt a:hover, .seemore_bt a:hover {
        color: #f26522;
    }
    .no-items-message {
        text-align: center;
        padding: 30px 0;
        font-size: 1.2em;
        color: #777;
    }
</style>
{% endblock %}

{% block content %}
<div class="fashion_section">
    <div id="main_slider" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <div class="container">
                    <h1 class="fashion_taital">New Cars</h1>
                    <div class="fashion_section_2">
                        <div class="row">
                            {% if new_cars %}
                                {% for new_car in new_cars %}
                                <a href="{% url 'car_detail' new_car.id %}">
                                    <div class="col-lg-4 col-sm-4">
                                        <div class="box_main">
                                            <h4 class="shirt_text">{{new_car.name}}</h4>
                                            <p class="price_text">Start Price <span class="price-color">$ {{new_car.price}}</span></p>
                                            <div class="tshirt_img"><img src="{% static 'images/carbg10.jpg' %}" alt="Skoda Kodiaq"></div>
                                            <div class="btn_main">
                                                <div class="buy_bt"><a href="{% url 'car_list' %}">Buy Now</a></div>
                                                <div class="seemore_bt"><a href="{% url 'car_list' %}">See More</a></div>
                                            </div>
                                        </div>
                                    </div>
                                </a>
                                {% endfor %}
                            {% else %}
                                <div class="col-12">
                                    <p class="no-items-message">No new cars available at the moment. Please check back later!</p>
                                </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="fashion_section">
    <div id="electronic_main_slider" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <div class="container">
                    <h1 class="fashion_taital">Used Cars</h1>
                    <div class="fashion_section_2">
                        <div class="row">
                            {% if old_cars %}
                                {% for old_car in old_cars %}
                                <a href="{% url 'car_detail' old_car.id %}">
                                    <div class="col-lg-4 col-sm-4">
                                        <div class="box_main">
                                            <h4 class="shirt_text">{{old_car.name}}</h4>
                                            <p class="price_text">Start Price <span class="price-color">$ {{old_car.price}}</span></p>
                                            <div class="electronic_img"><img src="{% static 'images/used1.jpg' %}" alt="Maruti Suzuki Swift"></div>
                                            <div class="btn_main">
                                                <div class="buy_bt"><a href="{% url 'car_list' %}">Buy Now</a></div>
                                                <div class="seemore_bt"><a href="{% url 'car_list' %}">See More</a></div>
                                            </div>
                                        </div>
                                    </div>
                                </a>
                                {% endfor %}
                            {% else %}
                                <div class="col-12">
                                    <p class="no-items-message">No used cars available at the moment. Check out our new car collection!</p>
                                </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="jewellery_section">
    <div id="jewellery_main_slider" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <div class="container">
                    <h1 class="fashion_taital">Car Accessories</h1>
                    <div class="fashion_section_2">
                        <div class="row">
                            {# Since accessories are hardcoded, we can simply check if there are any, though usually you'd loop through a context variable #}
                            {% comment %}
                            The original code had hardcoded accessory items. If these are expected to always be present or fetched dynamically,
                            you would use an 'if accessories_list' and 'for accessory in accessories_list' structure.
                            For this example, assuming the hardcoded accessories represent a fixed display or you'll fetch them from a context variable later,
                            I'm adding a conditional check. If you plan to retrieve accessories from the database, ensure your view passes an 'accessories' context variable.
                            For now, I'll demonstrate with a simple check that assumes some content, or you can uncomment the hardcoded items.
                            {% endcomment %}
                            {% if True %} {# Replace 'True' with 'accessories' if you pass an accessories list from context #}
                                <div class="col-lg-4 col-sm-4">
                                    <div class="box_main">
                                        <h4 class="shirt_text">All-Weather Floor Mats</h4>
                                        <p class="price_text">Start Price <span class="price-color">$ 100</span></p>
                                        <div class="jewellery_img"><img src="{% static 'images/a1.jpg' %}" alt="Floor Mats"></div>
                                        <div class="btn_main">
                                            <div class="buy_bt"><a href="{% url 'car_list' %}">Buy Now</a></div>
                                            <div class="seemore_bt"><a href="{% url 'car_list' %}">See More</a></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-4 col-sm-4">
                                    <div class="box_main">
                                        <h4 class="shirt_text">Car Vacuum Cleaner</h4>
                                        <p class="price_text">Start Price <span class="price-color">$ 100</span></p>
                                        <div class="jewellery_img"><img src="{% static 'images/a3.jpg' %}" alt="Vacuum Cleaner"></div>
                                        <div class="btn_main">
                                            <div class="buy_bt"><a href="{% url 'car_list' %}">Buy Now</a></div>
                                            <div class="seemore_bt"><a href="{% url 'car_list' %}">See More</a></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-4 col-sm-4">
                                    <div class="box_main">
                                        <h4 class="shirt_text">Seat Covers</h4>
                                        <p class="price_text">Start Price <span class="price-color">$ 100</span></p>
                                        <div class="jewellery_img"><img src="{% static 'images/a2.jpg' %}" alt="Seat Covers"></div>
                                        <div class="btn_main">
                                            <div class="buy_bt"><a href="{% url 'car_list' %}">Buy Now</a></div>
                                            <div class="seemore_bt"><a href="{% url 'car_list' %}">See More</a></div>
                                        </div>
                                    </div>
                                </div>
                            {% else %}
                                <div class="col-12">
                                    <p class="no-items-message">No car accessories available at the moment.</p>
                                </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <a class="carousel-control-prev" href="#jewellery_main_slider" role="button" data-slide="prev">
            <i class="fa fa-angle-left"></i>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#jewellery_main_slider" role="button" data-slide="next">
            <i class="fa fa-angle-right"></i>
            <span class="sr-only">Next</span>
        </a>
        <div class="loader_main">
            <div class="loader"></div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_scripts %}
<script>
    // Additional JavaScript if needed
    $(document).ready(function(){
        // Initialize carousels
        $('.carousel').carousel();
        
        // Smooth scrolling for anchor links
        $('a[href^="#"]').on('click', function(event) {
            var target = $(this.getAttribute('href'));
            if(target.length) {
                event.preventDefault();
                $('html, body').stop().animate({
                    scrollTop: target.offset().top
                }, 1000);
            }
        });
    });
</script>
{% endblock %}